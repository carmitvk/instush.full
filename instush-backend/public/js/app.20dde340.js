(function(e){function t(t){for(var n,a,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=s[0]))}return e}var n={},r={app:0},i=[];function a(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=n,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},1:function(e,t){},"2b94":function(e,t,s){e.exports=s.p+"img/reg-loading.a6178f44.gif"},"2e0b":function(e,t,s){e.exports=s.p+"img/plus4.c83322cf.svg"},4678:function(e,t,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return s(t)}function i(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="4678"},"4ffb":function(e,t,s){e.exports=s.p+"img/login.f0b3b58a.svg"},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("app-header"),s("router-view"),s("app-footer")],1)},i=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"header"},[n("div",{staticClass:"routing-container"},[n("router-link",{staticClass:"logo-routing-class",attrs:{to:"/"}},[n("span",{staticClass:"header-logo"},[e._v("Instush")])]),n("el-input",{staticClass:"header-search",attrs:{placeholder:"Search...","prefix-icon":"el-icon-search"},on:{input:e.debounce},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),n("nav",[e.loggedInUser?n("router-link",{staticClass:"routing-class",attrs:{to:"/"}},[n("span",{staticClass:"home-icon"},[n("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Home",fill:"#262626",height:"22",viewBox:"0 0 48 48",width:"22"}},[n("path",{attrs:{d:"M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z"}})])])]):e._e(),e.loggedInUser?n("router-link",{staticClass:"routing-class message",attrs:{to:"/direct"}},[n("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"Messenger",fill:"#262626",height:"22",viewBox:"0 0 48 48",width:"22"}},[n("path",{attrs:{d:"M36.2 16.7L29 22.2c-.5.4-1.2.4-1.7 0l-5.4-4c-1.6-1.2-3.9-.8-5 .9l-6.8 10.7c-.7 1 .6 2.2 1.6 1.5l7.3-5.5c.5-.4 1.2-.4 1.7 0l5.4 4c1.6 1.2 3.9.8 5-.9l6.8-10.7c.6-1.1-.7-2.2-1.7-1.5zM24 1C11 1 1 10.5 1 23.3 1 30 3.7 35.8 8.2 39.8c.4.3.6.8.6 1.3l.2 4.1c0 1 .9 1.8 1.8 1.8.2 0 .5 0 .7-.2l4.6-2c.2-.1.5-.2.7-.2.2 0 .3 0 .5.1 2.1.6 4.3.9 6.7.9 13 0 23-9.5 23-22.3S37 1 24 1zm0 41.6c-2 0-4-.3-5.9-.8-.4-.1-.8-.2-1.3-.2-.7 0-1.3.1-2 .4l-3 1.3V41c0-1.3-.6-2.5-1.6-3.4C6.2 34 4 28.9 4 23.3 4 12.3 12.6 4 24 4s20 8.3 20 19.3-8.6 19.3-20 19.3z"}})])]):e._e(),e.loggedInUser?n("div",{staticClass:"routing-class add-icon"},[n("img",{staticClass:"add-post-icon",attrs:{src:s("2e0b"),alt:"image"},on:{click:e.openNewPostiModal}})]):e._e(),n("router-link",{staticClass:"routing-class",attrs:{to:"/login"}},[n("span",{staticClass:"login-icon"},[n("img",{staticClass:"login-icon",attrs:{src:s("4ffb"),alt:"image"}})])]),e.loggedInUser?n("router-link",{staticClass:"routing-class",attrs:{to:"/user/"+e.loggedInUser._id}},[n("img",{staticClass:"user-profile-icon",attrs:{src:e.loggedInUser.imgUrl,alt:"image"}})]):e._e()],1)],1),e.newPostiDialogVisible?n("posti-new",{attrs:{dialogVisible:e.newPostiDialogVisible},on:{dialogClosed:e.dialogClosed}}):e._e()],1)},o=[],c=(s("4de4"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"posti-new"},[s("el-dialog",{attrs:{width:"60%",center:"",title:e.title,visible:e.dialogVisible,"before-close":e.dialogClosed},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.postiToEdit?s("section",[s("form",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.postiToEdit.description,expression:"postiToEdit.description"}],staticClass:"description",attrs:{placeholder:" Write your desceiption here...",name:"description",rows:"3",cols:"100"},domProps:{value:e.postiToEdit.description},on:{input:function(t){t.target.composing||e.$set(e.postiToEdit,"description",t.target.value)}}}),s("el-select",{staticClass:"tags-picker",attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"Pick tags for post"},model:{value:e.postiToEdit.tags,callback:function(t){e.$set(e.postiToEdit,"tags",t)},expression:"postiToEdit.tags"}},e._l(e.options,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e.postiToEdit.imgUrl?s("img",{staticClass:"picture",attrs:{src:e.postiToEdit.imgUrl,alt:"image"}}):e._e(),s("div",{staticClass:"file-container"},[s("input",{staticClass:"input-file",attrs:{btn:"",placeholder:"Upload file",type:"file",id:"imgUploader"},on:{change:e.onUploadImg}}),s("label",{staticClass:"input-lable",attrs:{for:"imgUploader"}},[e._v(e._s(e.uploadFileTxt))])]),s("el-button",{staticClass:"btn",attrs:{type:"primary",loading:e.btnPressed},on:{click:e.save}},[e._v("Save")])],1)]):e._e()])],1)}),l=[],u=s("1da1"),d=(s("96cf"),s("b0c0"),s("caad"),s("2532"),s("99af"),s("bc3a")),p=s.n(d),m="/api/",g=p.a.create({withCredentials:!0}),f={get:function(e,t){return v(e,"GET",t)},post:function(e,t){return v(e,"POST",t)},put:function(e,t){return v(e,"PUT",t)},delete:function(e,t){return v(e,"DELETE",t)}};function v(e){return h.apply(this,arguments)}function h(){return h=Object(u["a"])(regeneratorRuntime.mark((function e(t){var s,n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=i.length>1&&void 0!==i[1]?i[1]:"get",n=i.length>2&&void 0!==i[2]?i[2]:null,e.prev=2,e.next=5,g({url:"".concat(m).concat(t),method:s,data:n});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("Had Issues ".concat(s,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(n)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])}))),h.apply(this,arguments)}var b="user";$();var w={getUsers:_,getById:C,getLoggedinUser:U,remove:k,update:y,login:L,signup:S,logout:I};function _(){return f.get("user")}function C(e){return f.get("user/".concat(e))}function k(e){return f.delete("user/".concat(e))}function y(e){return j.apply(this,arguments)}function j(){return j=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.put("user/".concat(t._id),t);case 2:t=e.sent,U()._id===t._id&&x(t);case 4:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function x(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function U(){return JSON.parse(sessionStorage.getItem("loggedinUser"))}function L(e){return P.apply(this,arguments)}function P(){return P=Object(u["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.post("auth/login",t);case 2:if(s=e.sent,!s){e.next=5;break}return e.abrupt("return",x(s));case 5:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function S(e){return E.apply(this,arguments)}function E(){return E=Object(u["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.post("auth/signup",t);case 2:return s=e.sent,e.abrupt("return",x(s));case 4:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function I(){return O.apply(this,arguments)}function O(){return O=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,f.post("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function $(){var e=JSON.parse(localStorage.getItem(b));return e&&e.length||(e=[{_id:"eeAA22",username:"yossi.tik",password:"123",fullname:"yossi tik",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984344/instagram/users-pic/user3.jpg_clzrsm.jpg",createdAt:12122134434,following:[{_id:"aar4577",fullname:"Gal Dvori",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984349/instagram/users-pic/user2.jpg_muesqu.jpg"},{_id:"ccr4577",fullname:"Roni Mizrahi",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/w_1000,c_fill,ar_1:1,g_auto,r_max,bo_5px_solid_red,b_rgb:262c35/v1615985058/instagram/users-pic/user5_vtz4w4.jpg"}],followers:[{_id:"EEE22",fullname:"Benny Orenshtein",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984358/instagram/users-pic/user1_yqme7r.jpg"},{_id:"aar4577",fullname:"Gal Dvori",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984349/instagram/users-pic/user2.jpg_muesqu.jpg"}],savedPosts:["FFF234","ad24si9eu","ewwoei2e29e"]},{_id:"OOO987",username:"Yoni.Doy",password:"123",fullname:"Yoni Doy",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/w_1000,c_fill,ar_1:1,g_auto,r_max,bo_5px_solid_red,b_rgb:262c35/v1615984338/instagram/users-pic/user4_p6n68b.jpg",createdAt:12122134434,following:[{_id:"eeAA22",fullname:"yossi tik",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984344/instagram/users-pic/user3.jpg_clzrsm.jpg"},{_id:"ccr4577",fullname:"Roni Mizrahi",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/w_1000,c_fill,ar_1:1,g_auto,r_max,bo_5px_solid_red,b_rgb:262c35/v1615985058/instagram/users-pic/user5_vtz4w4.jpg"}],followers:[{_id:"EEE22",fullname:"Benny Orenshtein",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984358/instagram/users-pic/user1_yqme7r.jpg"},{_id:"aar4577",fullname:"Gal Dvori",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984349/instagram/users-pic/user2.jpg_muesqu.jpg"}],savedPosts:["FFF234","ad24si9eu","ewwoei2e29e"]},{_id:"ccr4577",username:"Roni.Mizrahi",password:"123",fullname:"Roni Mizrahi",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/w_1000,c_fill,ar_1:1,g_auto,r_max,bo_5px_solid_red,b_rgb:262c35/v1615985058/instagram/users-pic/user5_vtz4w4.jpg",createdAt:12122134434,following:[{_id:"EEE22",fullname:"Benny Orenshtein",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/w_1000,c_fill,ar_1:1,g_auto,r_max,bo_5px_solid_red,b_rgb:262c35/v1615984358/instagram/users-pic/user1_yqme7r.jpg"}],followers:[{_id:"EEE22",fullname:"Benny Orenshtein",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984358/instagram/users-pic/user1_yqme7r.jpg"},{_id:"aar4577",fullname:"Gal Dvori",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984349/instagram/users-pic/user2.jpg_muesqu.jpg"}],savedPosts:["FFF234","ad24si9eu","ewwoei2e29e"]},{_id:"EEE22",username:"Benny.Orenshtein",password:"123",fullname:"Benny Orenshtein",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984358/instagram/users-pic/user1_yqme7r.jpg",createdAt:12122134434,following:[{_id:"ccr4577",fullname:"Roni Mizrahi",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/w_1000,c_fill,ar_1:1,g_auto,r_max,bo_5px_solid_red,b_rgb:262c35/v1615985058/instagram/users-pic/user5_vtz4w4.jpg"}],followers:[{_id:"ccr4577",fullname:"Roni Mizrahi",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/w_1000,c_fill,ar_1:1,g_auto,r_max,bo_5px_solid_red,b_rgb:262c35/v1615985058/instagram/users-pic/user5_vtz4w4.jpg"},{_id:"aar4577",fullname:"Gal Dvori",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/w_1000,c_fill,ar_1:1,g_auto,r_max,bo_5px_solid_red,b_rgb:262c35/v1615984349/instagram/users-pic/user2.jpg_muesqu.jpg"}],savedPosts:["FFF234","ad24si9eu","ewwoei2e29e"]},{_id:"aar4577",username:"Gal.Dvori",password:"123",fullname:"Gal Dvori",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984349/instagram/users-pic/user2.jpg_muesqu.jpg",createdAt:12122134434,following:[{_id:"EEE22",fullname:"Benny Orenshtein",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984358/instagram/users-pic/user1_yqme7r.jpg"},{_id:"eeAA22",fullname:"yossi tik",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984344/instagram/users-pic/user3.jpg_clzrsm.jpg"}],followers:[{_id:"EEE22",fullname:"Benny Orenshtein",imgUrl:"https://res.cloudinary.com/carmitvk/image/upload/v1615984358/instagram/users-pic/user1_yqme7r.jpg"}],savedPosts:["FFF234","ad24si9eu","ewwoei2e29e"]}],localStorage.setItem(b,JSON.stringify(e))),e}function R(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}function z(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var M={makeId:R,getRandomInt:z},D="posti/",T={query:F,getById:V,remove:B,save:N,getEmptyPosti:H,getEmptyComment:q};function F(){return A.apply(this,arguments)}function A(){return A=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,s,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.prev=1,e.next=4,f.get(D);case 4:if(s=e.sent,s&&0!==s.length){e.next=7;break}return e.abrupt("return",s);case 7:return n=s.sort((function(e,t){return t.createdAt-e.createdAt})),t&&(n=n.filter((function(e){return e.creator.fullname.toLowerCase().includes(t.toLowerCase())}))),e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e["catch"](1),console.log("postiService: Error in query function...",e.t0),new Error("Error in query function...");case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),A.apply(this,arguments)}function V(e){return f.get(D+e)}function B(e){return f.delete(D+e)}function N(e){return e._id?f.put(D+e._id,e):f.post(D,e)}function q(e){return{id:M.makeId(),txt:e,by:w.getLoggedinUser(),likedBy:[]}}function H(){return{description:"",imgUrl:"",loc:{name:"",lat:0,lng:0},comments:[],likedBy:[],tags:[]}}var G=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var s,n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s="carmit_presets",n="carmitvk",r="https://api.cloudinary.com/v1_1/".concat(n,"/image/upload"),i=new FormData,i.append("file",t.target.files[0]),i.append("upload_preset",s),e.prev=6,e.next=9,p.a.post(r,i);case 9:return a=e.sent,e.abrupt("return",a.data);case 13:e.prev=13,e.t0=e["catch"](6),console.error("ERROR!",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),J={name:"postiNew",props:{users:{type:Array},dialogVisible:{type:Boolean},dialogTitle:{type:String}},data:function(){return{postiToEdit:null,isLoading:!1,btnPressed:!1,options:[{value:"Nature",label:"Nature"},{value:"Animals",label:"Animals"},{value:"Funny",label:"Funny"}],uploadFileTxt:"Upload file"}},methods:{save:function(){this.postiToEdit.imgUrl&&!this.btnPressed?(this.$store.dispatch({type:"savePosti",posti:this.postiToEdit}),this.dialogClosed(),this.postiToEdit=T.getEmptyPosti()):console.log("NewPosti: Cannot add post. pick a picture first and wait for loading.")},dialogClosed:function(){this.$emit("dialogClosed")},onUploadImg:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.btnPressed=!0,t.isLoading=!0,s.next=5,G(e);case 5:n=s.sent,t.uploadFileTxt=e.target.files[0].name,t.postiToEdit.imgUrl=n.url,t.btnPressed=!1,s.next=15;break;case 11:throw s.prev=11,s.t0=s["catch"](0),console.log("postiEdit: Cannot save posti...",s.t0),new Error("Cannot save posti...");case 15:return s.prev=15,t.isLoading=!1,s.finish(15);case 18:case"end":return s.stop()}}),s,null,[[0,11,15,18]])})))()}},computed:{imgUrl:function(){return this.postiToEdit.imgUrl},title:function(){return"Add your own post"},postiId:function(){return this.$route.params.postiId}},created:function(){this.postiToEdit=T.getEmptyPosti()},components:{}},Y=J,W=s("2877"),K=Object(W["a"])(Y,c,l,!1,null,null,null),Q=K.exports,X={data:function(){return{filter:"",isPressed:!1,timerId:null,newPostiDialogVisible:!1}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser}},methods:{debounce:function(){var e=this;clearTimeout(this.timerId),this.timerId=setTimeout((function(){e.setFilter()}),500)},setFilter:function(){this.$store.dispatch({type:"setFilter",filter:this.filter})},openNewPostiModal:function(){this.newPostiDialogVisible=!0},dialogClosed:function(){this.newPostiDialogVisible=!1}},components:{postiNew:Q}},Z=X,ee=Object(W["a"])(Z,a,o,!1,null,null,null),te=ee.exports,se=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ne=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"app-footer"},[s("div",{staticClass:"footer"},[e._v("@Copyrights Carmit Vaknin 2021")])])}],re={name:"appFooter",components:{}},ie=re,ae=Object(W["a"])(ie,se,ne,!1,null,null,null),oe=ae.exports,ce={created:function(){this.$store.dispatch({type:"loadPostis"}),this.$store.dispatch({type:"loadUsers"})},components:{appHeader:te,appFooter:oe}},le=ce,ue=Object(W["a"])(le,r,i,!1,null,null,null),de=ue.exports,pe=s("9483");Object(pe["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var me=s("8c4f"),ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"posti-app"},[n("div",{staticClass:"posti-app-container"},[e.isPostisLoading?n("div",{staticClass:"postisLoading"},[n("img",{staticClass:"loading-gif",attrs:{src:s("2b94")}})]):n("div",[n("posti-list",{attrs:{postis:e.postis},on:{removePosti:e.removePosti,addComment:e.addComment,changeCommentLike:e.changeCommentLike,changeLike:e.changeLike,changeSaved:e.changeSaved}})],1)])])},fe=[],ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"posti-list"},e._l(e.postis,(function(t){return s("div",{key:t._id,staticClass:"posti-list-container"},[s("posti-preview",{attrs:{posti:t},on:{removePosti:e.removePosti,addComment:e.addComment,changeCommentLike:e.changeCommentLike,changeLike:function(s){return e.changeLike(t)},changeSaved:function(s){return e.changeSaved(t)}}})],1)})),0)},he=[],be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"posti-preview"},[n("div",[n("div",{staticClass:"creator-container"},[n("div",{staticClass:"user-details"},[n("img",{staticClass:"creator-img",attrs:{src:e.posti.creator.imgUrl,alt:"image"}}),n("span",{staticClass:"name"},[e._v(e._s(e.posti.creator.fullname))])]),n("span",{staticClass:"actions",on:{click:e.openPostActions}},[n("svg",{staticClass:"_8-yf5 ",attrs:{"aria-label":"More options",fill:"#262626",height:"16",viewBox:"0 0 48 48",width:"16"}},[n("circle",{attrs:{"clip-rule":"evenodd",cx:"8",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"24",cy:"24","fill-rule":"evenodd",r:"4.5"}}),n("circle",{attrs:{"clip-rule":"evenodd",cx:"40",cy:"24","fill-rule":"evenodd",r:"4.5"}})])])]),n("div",{staticClass:"post-img"},[n("img",{attrs:{src:e.posti.imgUrl,alt:"image"}})]),n("div",{staticClass:"about-post"},[n("div",{staticClass:"actions"},[n("div",{staticClass:"like-and-comment"},[e.isLikePosti?n("img",{staticClass:"like-posti",attrs:{src:s("fdb7"),alt:"image"},on:{click:e.changeLike}}):n("img",{staticClass:"like-posti",attrs:{src:s("c083"),alt:"image"},on:{click:e.changeLike}}),n("img",{staticClass:"all-comments",attrs:{src:s("e3f5"),alt:"comment image"},on:{click:e.openPostiDetails}})]),n("div",{staticClass:"save-posti-container"},[e.isSaved?n("img",{staticClass:"save-posti",attrs:{src:s("6c6d"),alt:"image"},on:{click:e.changeSaved}}):n("img",{staticClass:"save-posti",attrs:{src:s("de21"),alt:"image"},on:{click:e.changeSaved}})])]),n("div",{staticClass:"likes-num",on:{click:e.openLikesModal}},[n("span",[e._v(e._s(e.postiLikesCount))])]),n("user-list",{attrs:{dialogVisible:e.likesDialogVisible,users:e.posti.likedBy,dialogTitle:"Likes"},on:{dialogClosed:e.dialogClosed}}),n("comment-list",{attrs:{posti:e.posti},on:{changeCommentLike:e.changeCommentLike}}),n("div",{staticClass:"duration"},[e._v(e._s(e.createdAt))]),n("div",{staticClass:"add-comment-container"},[n("div",{staticClass:"wrapper"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.txt,expression:"txt"}],staticClass:"regular-input",staticStyle:{resize:"none"},attrs:{placeholder:"Add a comment..."},domProps:{value:e.txt},on:{input:function(t){t.target.composing||(e.txt=t.target.value)}}}),n("emoji-picker",{attrs:{search:e.search},on:{emoji:e.append},scopedSlots:e._u([{key:"emoji-invoker",fn:function(e){var t=e.events.click;return n("div",{staticClass:"emoji-invoker",on:{click:function(e){return e.stopPropagation(),t(e)}}},[n("svg",{attrs:{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}})])])}},{key:"emoji-picker",fn:function(t){var s=t.emojis,r=t.insert;return n("div",{},[n("div",{staticClass:"emoji-picker"},[n("div",{staticClass:"emoji-picker__search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),n("div",e._l(s,(function(t,s){return n("div",{key:s},[n("h5",[e._v(e._s(s))]),n("div",{staticClass:"emojis"},e._l(t,(function(t,s){return n("span",{key:s,attrs:{title:s},on:{click:function(e){return r(t)}}},[e._v(e._s(t))])})),0)])})),0)])])}}])})],1),n("button",{staticClass:"post",attrs:{disabled:e.isDisabled},on:{click:e.postComment}},[e._v("Post")])])],1)]),n("posti-actions",{attrs:{dialogVisible:e.postiActionsVisible,posti:e.posti},on:{removePosti:e.removePosti,dialogClosed:e.actionsDialogClosed}})],1)},we=[],_e=(s("7db0"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-list"},[s("el-dialog",{attrs:{width:"25%",center:"",title:e.dialogTitle,visible:e.dialogVisible,"before-close":e.dialogClosed},on:{"update:visible":function(t){e.dialogVisible=t}}},e._l(e.users,(function(t){return s("div",{key:t._id,staticClass:"list-user"},[s("img",{staticClass:"user-img",attrs:{src:t.imgUrl,alt:"image"}}),s("span",{staticClass:"user-name"},[e._v(e._s(t.fullname))]),s("el-button",{attrs:{type:"primary",loading:!1}},[e._v("Follow")])],1)})),0)],1)}),Ce=[],ke={name:"userList",props:{users:{type:Array},dialogVisible:{type:Boolean},dialogTitle:{type:String}},methods:{dialogClosed:function(){this.$emit("dialogClosed")}}},ye=ke,je=Object(W["a"])(ye,_e,Ce,!1,null,null,null),xe=je.exports,Ue=s("c1df"),Le=s.n(Ue),Pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"comment-list"},[s("span",{staticClass:"user-name",on:{hover:function(t){return e.openModalUser(e.posti.creator)}}},[e._v(e._s(e.posti.creator.fullname))]),s("span",{staticClass:"description"},[e._v(e._s(e.posti.description))]),s("div",{staticClass:"all-comments",on:{click:function(t){return e.openPostiDetails(e.posti.creator)}}},[e._v(e._s(e.allComments))]),e._l(e.posti.comments,(function(t){return s("div",{key:t.id,staticClass:"comment"},[s("comment-preview",{attrs:{comment:t},on:{changeCommentLike:function(s){return e.changeCommentLike(t)}}})],1)}))],2)},Se=[],Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"comment-preview"},[n("div",{staticClass:"full-user-name"},[n("span",{staticClass:"commented-user",on:{hover:function(t){return e.openModalUser(e.comment.by)}}},[e._v(e._s(e.comment.by.fullname))]),n("span",[e._v(e._s(e.comment.txt))])]),n("div",{staticClass:"liked"},[e.isLikeComment?n("img",{staticClass:"comment-like",attrs:{src:s("fdb7"),alt:"image"},on:{click:e.changeCommentLike}}):n("img",{staticClass:"comment-like",attrs:{src:s("c083"),alt:"image"},on:{click:e.changeCommentLike}})])])},Ie=[],Oe={props:{comment:{type:Object}},data:function(){return{}},methods:{openModalUser:function(e){console.log("openModalUser for userId=",e)},changeCommentLike:function(){this.$emit("changeCommentLike",this.comment)}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},isLikeComment:function(){var e,t,s=this,n=null===(e=this.comment)||void 0===e||null===(t=e.likedBy)||void 0===t?void 0:t.find((function(e){return e._id===s.loggedInUser._id}));return!!n}}},$e=Oe,Re=Object(W["a"])($e,Ee,Ie,!1,null,null,null),ze=Re.exports,Me={props:{posti:{type:Object}},data:function(){return{}},methods:{openPostiDetails:function(e){console.log("openPostiDetails for userId=",e)},changeCommentLike:function(e){this.$emit("changeCommentLike",e)}},computed:{allComments:function(){return"View all ".concat(this.posti.comments.length," comments")}},components:{commentPreview:ze}},De=Me,Te=Object(W["a"])(De,Pe,Se,!1,null,null,null),Fe=Te.exports,Ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"posti-actions",attrs:{width:"40%",center:"","show-close":!1,visible:e.dialogVisible,"before-close":e.dialogClosed},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",{on:{click:e.removePosti}},[e._v("Delete")]),s("div",{staticClass:"dialogClosed",on:{click:e.dialogClosed}},[e._v("Cancel")])])},Ve=[],Be={name:"postiActions",props:{posti:{type:Object},dialogVisible:{type:Boolean}},data:function(){return{}},methods:{dialogClosed:function(){this.$emit("dialogClosed")},removePosti:function(){this.$emit("removePosti",this.posti._id),this.dialogClosed()}},computed:{},created:function(){},components:{}},Ne=Be,qe=Object(W["a"])(Ne,Ae,Ve,!1,null,null,null),He=qe.exports,Ge=s("b1fa"),Je=s.n(Ge),Ye={props:{posti:{type:Object}},data:function(){return{txt:"",search:"",timerId:null,likesDialogVisible:!1,postiActionsVisible:!1,isSavedCurrPosti:this.posti.isSaved}},methods:{openLikesModal:function(){this.likesDialogVisible=!0},dialogClosed:function(){this.likesDialogVisible=!1},openPostActions:function(){this.postiActionsVisible=!0},removePosti:function(e){this.$emit("removePosti",e)},actionsDialogClosed:function(){this.postiActionsVisible=!1},openPostiDetails:function(){},postComment:function(){var e=T.getEmptyComment(this.txt);console.log("post a comment",this.txt),this.$emit("addComment",{posti:this.posti,comment:e}),this.txt=""},append:function(e){this.txt+=e},changeLike:function(){this.$emit("changeLike",this.posti)},changeSaved:function(){this.isSavedCurrPosti=!this.isSavedCurrPosti,this.$emit("changeSaved",this.posti)},changeCommentLike:function(e){this.$emit("changeCommentLike",{posti:this.posti,comment:e})}},computed:{isSaved:function(){return this.isSavedCurrPosti},isLikePosti:function(){var e=this,t=this.posti.likedBy.find((function(t){var s;return t._id===(null===(s=e.$store.getters.loggedinUser)||void 0===s?void 0:s._id)}));return!!t},isDisabled:function(){return 0===this.txt.length},postiLikesCount:function(){var e=this.posti.likedBy.length;return"".concat(e," likes")},createdAt:function(){return Le()(this.posti.createdAt).fromNow().toUpperCase()}},directives:{focus:{inserted:function(e){e.focus(),console.log("inserted")}}},components:{commentList:Fe,EmojiPicker:Je.a,userList:xe,postiActions:He}},We=Ye,Ke=Object(W["a"])(We,be,we,!1,null,null,null),Qe=Ke.exports,Xe={name:"postiList",props:{postis:{type:Array}},methods:{changeLike:function(e){this.$emit("changeLike",e)},changeSaved:function(e){this.$emit("changeSaved",e)},changeCommentLike:function(e){this.$emit("changeCommentLike",e)},addComment:function(e){this.$emit("addComment",e)},removePosti:function(e){this.$emit("removePosti",e)}},components:{postiPreview:Qe}},Ze=Xe,et=Object(W["a"])(Ze,ve,he,!1,null,null,null),tt=et.exports,st={name:"postiApp",methods:{changeLike:function(e){this.$store.dispatch({type:"changeLike",data:{posti:e,loggedinUser:this.$store.getters.loggedinUser}})},changeSaved:function(e){this.$store.dispatch({type:"changeSaved",posti:e})},changeCommentLike:function(e){this.$store.dispatch({type:"changeCommentLike",data:{posti:e.posti,comment:e.comment,loggedinUser:this.$store.getters.loggedinUser}})},addComment:function(e){this.$store.dispatch({type:"addComment",data:e})},removePosti:function(e){this.$store.dispatch({type:"removePosti",postiId:e})}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},postis:function(){return this.$store.getters.postis},isPostisLoading:function(){return this.$store.getters.loading}},created:function(){this.loggedInUser||this.$router.push("/login")},components:{postiList:tt}},nt=st,rt=Object(W["a"])(nt,ge,fe,!1,null,null,null),it=rt.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"user-profile"},[n("div",{staticClass:"user-profile-container"},[e.isLoading?n("div",{staticClass:"loading"},[n("img",{staticClass:"loading-gif",attrs:{src:s("2b94")}})]):n("div",{staticClass:"user-all-data"},[e.fullLoggedInData?n("div",{staticClass:"creator"},[n("img",{staticClass:"creator-img",attrs:{src:e.fullLoggedInData.imgUrl,alt:"image"}}),n("div",{staticClass:"user-data"},[n("div",[n("span",[e._v(e._s(e.fullLoggedInData.username))])]),n("div",{staticClass:"counters-container"},[n("span",[n("span",{staticClass:"num"},[e._v(e._s(e.loggedUserPostis.length))]),n("span",{staticClass:"num-title"},[e._v("posts")])]),n("span",{staticClass:"cursor",on:{click:e.openFollowersModal}},[n("span",{staticClass:"num"},[e._v(e._s(e.followersCount))]),n("span",{staticClass:"num-title"},[e._v("followers")])]),n("span",{staticClass:"cursor",on:{click:e.openFollowingModal}},[n("span",{staticClass:"num"},[e._v(e._s(e.followingCount))]),n("span",{staticClass:"num-title"},[e._v("following")])])]),n("user-list",{attrs:{dialogVisible:e.dialogVisible,users:e.users,dialogTitle:e.title},on:{dialogClosed:e.dialogClosed}}),n("div",{staticClass:"full-name"},[e._v(" "+e._s(e.fullLoggedInData.fullname)+" ")])],1)]):e._e(),n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal","collapse-transition":!0},on:{select:e.handleSelect}},[n("el-menu-item",{attrs:{index:"1"}},[n("svg",{staticClass:"posts-svg",attrs:{"aria-label":"Posts",fill:"#262626",height:"12",viewBox:"0 0 48 48",width:"12"}},[n("path",{attrs:{"clip-rule":"evenodd",d:"M45 1.5H3c-.8 0-1.5.7-1.5 1.5v42c0 .8.7 1.5 1.5 1.5h42c.8 0 1.5-.7 1.5-1.5V3c0-.8-.7-1.5-1.5-1.5zm-40.5 3h11v11h-11v-11zm0 \n            14h11v11h-11v-11zm11 25h-11v-11h11v11zm14 0h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11zm14 \n            28h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11z","fill-rule":"evenodd"}})]),n("span",[e._v("POSTS")])]),n("el-menu-item",{attrs:{index:"2"}},[n("svg",{staticClass:"saved-svg",attrs:{"aria-label":"Saved",fill:"#8e8e8e",height:"12",viewBox:"0 0 48 48",width:"12"}},[n("path",{attrs:{d:"M43.5 48c-.4 \n          0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 \n          .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"}})]),n("span",[e._v("SAVED")])])],1),"1"===e.activeIndex?n("div",{staticClass:"posti-card-list card-grid"},e._l(e.loggedUserPostis,(function(e,t){return n("posti-card",{key:t,attrs:{posti:e}})})),1):e._e(),"2"===e.activeIndex?n("div",{staticClass:"posti-card-list card-grid"},e._l(e.savedUserPostis,(function(e,t){return n("posti-card",{key:t,attrs:{posti:e}})})),1):e._e()],1)])])},ot=[],ct=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"posti-card"},[s("img",{staticClass:"card-image",attrs:{src:e.posti.imgUrl}}),s("div",{staticClass:"card-data"},[s("span",{staticClass:"likes-container"},[s("span",{staticClass:"like-count"},[e._v(e._s(e.likesCount))]),s("font-awesome-icon",{staticClass:"like-icon",attrs:{icon:"heart"}})],1),s("div",{staticClass:"tags-list"},e._l(e.tags,(function(t,n){return s("div",{key:n,staticClass:"tag"},[e._v(e._s(t))])})),0)])])},lt=[],ut=s("ecee"),dt=s("c074");ut["c"].add(dt["a"]);var pt={name:"posti-card",props:{posti:{type:Object}},data:function(){return{}},computed:{likesCount:function(){return this.posti.likedBy.length},tags:function(){return this.posti.tags}}},mt=pt,gt=Object(W["a"])(mt,ct,lt,!1,null,null,null),ft=gt.exports,vt={name:"userProfile",data:function(){return{dialogVisible:!1,users:null,title:"",activeIndex:"1"}},computed:{fullLoggedInData:function(){return this.$store.getters.fullUserData},loggedUserPostis:function(){var e=this;return this.$store.getters.postis.filter((function(t){var s,n;return(null===(s=t.creator)||void 0===s?void 0:s._id)===(null===(n=e.fullLoggedInData)||void 0===n?void 0:n._id)}))},savedUserPostis:function(){return this.$store.getters.postis.filter((function(e){return!0===e.isSaved}))},followersCount:function(){var e,t;return null===(e=this.fullLoggedInData)||void 0===e||null===(t=e.followers)||void 0===t?void 0:t.length},followingCount:function(){var e,t;return null===(e=this.fullLoggedInData)||void 0===e||null===(t=e.following)||void 0===t?void 0:t.length},isLoading:function(){return this.$store.getters.loading},listUsers:function(){return this.listUsers}},methods:{handleSelect:function(e,t){console.log("index, indexPath",e,t),this.activeIndex=e},openFollowersModal:function(){var e;this.title="Followers",this.users=null===(e=this.fullLoggedInData)||void 0===e?void 0:e.followers,this.dialogVisible=!0},openFollowingModal:function(){var e;this.title="Following",this.users=null===(e=this.fullLoggedInData)||void 0===e?void 0:e.following,this.dialogVisible=!0},dialogClosed:function(){this.dialogVisible=!1}},created:function(){this.$store.dispatch({type:"setFullUserData",userId:this.$route.params.userId})},components:{userList:xe,postiCard:ft}},ht=vt,bt=Object(W["a"])(ht,at,ot,!1,null,null,null),wt=bt.exports,_t=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"login-data"},[s("p",[e._v(e._s(e.msg))]),e.loggedinUser?s("div",{staticClass:"loggedin-user-show"},[s("h3",[e._v(" Loggedin User: "+e._s(e.loggedinUser.username)+" ")]),s("button",{staticClass:"btn logout-btn",on:{click:e.doLogout}},[e._v("Logout")])]):s("div",{staticClass:"loggedin-signup"},[s("form",{staticClass:"doLogin"},[s("h2",[e._v("Login")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCred.username,expression:"loginCred.username"}],staticClass:"txt-holder",attrs:{type:"text",placeholder:"User name"},domProps:{value:e.loginCred.username},on:{input:function(t){t.target.composing||e.$set(e.loginCred,"username",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCred.password,expression:"loginCred.password"}],staticClass:"txt-holder",attrs:{type:"text",placeholder:"Password"},domProps:{value:e.loginCred.password},on:{input:function(t){t.target.composing||e.$set(e.loginCred,"password",t.target.value)}}}),s("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.doLogin}},[e._v("Login")])],1),s("form",{staticClass:"signup"},[s("h2",[e._v("Signup")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.fullname,expression:"signupCred.fullname"}],staticClass:"txt-holder",attrs:{type:"text",placeholder:"Your full name"},domProps:{value:e.signupCred.fullname},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"fullname",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.username,expression:"signupCred.username"}],staticClass:"txt-holder",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.signupCred.username},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"username",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.password,expression:"signupCred.password"}],staticClass:"txt-holder",attrs:{type:"text",placeholder:"Password"},domProps:{value:e.signupCred.password},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"password",t.target.value)}}}),e.signupCred.imgUrl?s("img",{staticClass:"picture",attrs:{src:e.signupCred.imgUrl,alt:"image"}}):e._e(),s("input",{staticClass:"input-file",attrs:{btn:"",placeholder:"Upload file",type:"file",id:"imgUploader"},on:{change:e.onUploadImg}}),s("el-button",{staticClass:"btn",attrs:{type:"primary",loading:e.btnPressed},on:{click:e.doSignup}},[e._v("Signup")])],1)])])])},Ct=[],kt={name:"test",data:function(){return{msg:"",loginCred:{username:"guest",password:"guest"},signupCred:{username:"",password:"",fullname:""},isLoading:!1,btnPressed:!1}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser}},created:function(){},methods:{doLogin:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loginCred.username){t.next=3;break}return e.msg="Please enter username/password",t.abrupt("return");case 3:return t.prev=3,t.next=6,e.$store.dispatch({type:"login",userCred:e.loginCred});case 6:e.$router.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](3),console.log(t.t0),e.msg="Failed to login";case 13:case"end":return t.stop()}}),t,null,[[3,9]])})))()},doLogout:function(){this.$store.dispatch({type:"logout"})},doSignup:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("inside doSignup"),e.signupCred.fullname&&e.signupCred.password&&e.signupCred.username){t.next=4;break}return e.msg="Please fill up the form",t.abrupt("return");case 4:return console.log("this.signupCred.imgUrl=",e.signupCred.imgUrl),e.signupCred.imgUrl||(e.signupCred.imgUrl="http://res.cloudinary.com/carmitvk/image/upload/v1617535367/pic7_jcwwpa.jpg"),t.next=8,e.$store.dispatch({type:"signup",userCred:e.signupCred});case 8:e.$router.push("/"),e.signupCred.imgUrl="";case 10:case"end":return t.stop()}}),t)})))()},removeUser:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.$store.dispatch({type:"removeUser",userId:e});case 3:t.msg="User removed",s.next=9;break;case 6:s.prev=6,s.t0=s["catch"](0),t.msg="Failed to remove user";case 9:case"end":return s.stop()}}),s,null,[[0,6]])})))()},onUploadImg:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.btnPressed=!0,t.isLoading=!0,s.next=5,G(e);case 5:n=s.sent,t.signupCred.imgUrl=n.url,t.btnPressed=!1,s.next=14;break;case 10:throw s.prev=10,s.t0=s["catch"](0),console.log("postiEdit: Cannot save posti...",s.t0),new Error("Cannot save posti...");case 14:return s.prev=14,t.isLoading=!1,s.finish(14);case 17:case"end":return s.stop()}}),s,null,[[0,10,14,17]])})))()}}},yt=kt,jt=Object(W["a"])(yt,_t,Ct,!1,null,null,null),xt=jt.exports,Ut=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"messanger"},[s("div",{staticClass:"messanger-container"},[s("div",{staticClass:"users-container"},e._l(e.users,(function(t){return s("div",{key:t._id,staticClass:"users",class:{active:t===e.selectedUser},on:{click:function(s){return e.userPicked(t)}}},[s("div",{staticClass:"users-data"},[s("img",{staticClass:"user-img",attrs:{src:t.imgUrl,alt:"image"}}),s("div",[s("span",{staticClass:"user-name"},[e._v(e._s(t.fullname))]),e.typers.includes(t._id)?s("div",{staticClass:"is-typing"},[e._v("Typing...")]):e._e()])])])})),0),s("div",{staticClass:"editor"},[s("div",{staticClass:"messages-container",attrs:{id:"messanger"}},e._l(e.chatMsgs,(function(t){return s("div",{key:t.id,staticClass:"show-msg",class:{mymsg:t.fromId===e.loggedinUser._id}},[s("span",{staticClass:"from-user"},[e._v(e._s(t.from))]),"txt"===t.type?s("span",[e._v(e._s(t.content))]):e._e(),"img"===t.type?s("span",[s("img",{attrs:{src:t.content,alt:"image"}}),e._v(">")]):e._e(),s("div",{staticClass:"duration"},[e._v(e._s(e.createdAt(t)))])])})),0),e._m(0),s("div",{staticClass:"write-msg"},[s("div",{staticClass:"wrapper"},[e.selectedUser?s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.msg.content,expression:"msg.content"}],staticClass:"regular-input",staticStyle:{resize:"none"},attrs:{placeholder:"Message..."},domProps:{value:e.msg.content},on:{input:[function(t){t.target.composing||e.$set(e.msg,"content",t.target.value)},e.debounce]}}):e._e(),e.selectedUser?s("emoji-picker",{attrs:{search:e.search},on:{emoji:e.append},scopedSlots:e._u([{key:"emoji-invoker",fn:function(e){var t=e.events.click;return s("div",{staticClass:"emoji-invoker",on:{click:function(e){return e.stopPropagation(),t(e)}}},[s("svg",{attrs:{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}})])])}},{key:"emoji-picker",fn:function(t){var n=t.emojis,r=t.insert;return s("div",{},[s("div",{staticClass:"emoji-picker"},[s("div",{staticClass:"emoji-picker__search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),s("div",e._l(n,(function(t,n){return s("div",{key:n},[s("h5",[e._v(e._s(n))]),s("div",{staticClass:"emojis"},e._l(t,(function(t,n){return s("span",{key:n,attrs:{title:n},on:{click:function(e){return r(t)}}},[e._v(e._s(t))])})),0)])})),0)])])}}],null,!1,3615085581)}):e._e()],1),s("button",{staticClass:"send",attrs:{disabled:e.isDisabled},on:{click:e.sendMsg}},[e._v(" Send ")])])])])])},Lt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",{staticClass:"glyphsSpriteDirect__outline__96 u-__7",attrs:{"aria-label":"Direct"}})])}],Pt={data:function(){return{msg:{type:"txt",content:""},search:"",selectedUser:null,timerId:null,unreadMsg:0}},computed:{typers:function(){return this.$store.getters.typers},users:function(){var e,t=this;return null===(e=this.$store.getters.users)||void 0===e?void 0:e.filter((function(e){return e._id!==t.loggedinUser._id}))},loggedinUser:function(){return this.$store.getters.loggedinUser},chatMsgs:function(){var e=this,t=this.$store.getters.chatMsgs.filter((function(t){if(e.selectedUser&&e.loggedinUser){var s=e.selectedUser._id,n=e.loggedinUser._id;return(t.toId===s||t.toId===n)&&(t.fromId===s||t.fromId===n)}}));return t},isDisabled:function(){return 0===this.msg.content.length}},methods:{sendMsg:function(){var e=JSON.parse(JSON.stringify(this.msg));e.toId=this.selectedUser._id,this.$store.dispatch({type:"sendMsg",message:e}),this.msg.content="",this.msg.type="txt"},createdAt:function(e){return Le()(e.createdAt).fromNow()},append:function(e){this.msg.content+=e,this.msg.type="txt"},onUploadImg:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.btnPressed=!0,t.isLoading=!0,s.next=5,G(e);case 5:n=s.sent,t.msg.content=n.url,t.msg.type="img",t.btnPressed=!1,s.next=15;break;case 11:throw s.prev=11,s.t0=s["catch"](0),console.log("onUploadImg: Cannot upload picture...",s.t0),new Error("Cannot upload picture...");case 15:return s.prev=15,t.isLoading=!1,s.finish(15);case 18:case"end":return s.stop()}}),s,null,[[0,11,15,18]])})))()},userPicked:function(e){this.selectedUser=e,this.msg.content=""},debounce:function(){var e=this;clearTimeout(this.timerId),this.timerId=setTimeout((function(){e.$store.dispatch({type:"userTyping",data:{fromId:e.loggedinUser._id,toId:e.selectedUser._id}})}),500)}},created:function(){this.$store.dispatch({type:"initListeners"}),this.$store.dispatch({type:"setUserId",data:{userId:this.loggedinUser._id,fullname:this.$store.getters.loggedinUser.fullname}})},directives:{focus:{inserted:function(e){e.focus()}}}},St=Pt,Et=Object(W["a"])(St,Ut,Lt,!1,null,null,null),It=Et.exports;n["default"].use(me["a"]);var Ot=[{path:"/",name:"postiApp",component:it},{path:"/user/:userId",name:"userProfile",component:wt},{path:"/login",name:"login",component:xt},{path:"/direct",name:"direct",component:It}],$t=new me["a"]({mode:"history",base:"/",routes:Ot}),Rt=$t,zt=s("2f62"),Mt=(s("c740"),s("a434"),{state:{postis:[],loading:!1,filter:""},getters:{loading:function(e){return e.loading},postis:function(e){return e.postis}},mutations:{setPostis:function(e,t){var s=t.postis;e.postis=s},setLoadingState:function(e,t){var s=t.val;e.loading=s},setFilter:function(e,t){var s=t.filter;e.filter=s},savePosti:function(e,t){var s=t.savedPosti;e.postis.unshift(s)},removePosti:function(e,t){var s=t.postiId,n=e.postis.findIndex((function(e){return e._id===s}));e.postis.splice(n,1)}},actions:{loadPostis:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.commit({type:"setLoadingState",val:!0}),t.next=4,T.query(e.state.filter);case 4:s=t.sent,e.commit({type:"setPostis",postis:s}),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](0),console.log("Store: Cannot load postis...",t.t0),new Error("Cannot load postis...");case 12:return t.prev=12,e.commit({type:"setLoadingState",val:!1}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,8,12,15]])})))()},changeLike:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function e(){var s,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.data,n=s.posti,r=s.loggedinUser,e.prev=2,i=n.likedBy.findIndex((function(e){return e._id===r._id})),-1===i?n.likedBy.push(r):n.likedBy.splice(i,1),e.next=7,T.save(n);case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("changeLike - cannot save posti",e.t0),new Error("changeLike - cannot save posti");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()},changeSaved:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.posti,e.prev=1,s.isSaved=!s.isSaved,s=Object.assign(s),e.next=6,T.save(s);case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](1),console.log("changeSaved - cannot tag posti",e.t0),new Error("changeSaved - cannot tag posti");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},changeCommentLike:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function e(){var s,n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.data,n=s.posti,r=s.comment,i=s.loggedinUser,e.prev=2,a=r.likedBy.findIndex((function(e){return e._id===i._id})),-1===a?r.likedBy.push(i):r.likedBy.splice(a,1),e.next=7,T.save(n);case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("changeCommentLike: Cannot change like comment of posti",e.t0),new Error("Cannot change like comment of posti");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()},addComment:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function e(){var s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.data,n=s.posti,r=s.comment,e.prev=2,n.comments.push(r),e.next=6,T.save(n);case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](2),console.log("addComment: Cannot add comment to posti",e.t0),new Error("Cannot add comment to posti");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))()},setFilter:function(e,t){var s=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.filter,n.prev=1,e.commit({type:"setFilter",filter:r}),n.next=5,s.dispatch({type:"loadPostis"});case 5:n.next=11;break;case 7:throw n.prev=7,n.t0=n["catch"](1),console.log("setFilter: Cannot set filter",n.t0),new Error("Cannot set filte");case 11:case"end":return n.stop()}}),n,null,[[1,7]])})))()},savePosti:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.posti,s.prev=1,e.commit({type:"setLoadingState",val:!0}),s.next=5,T.save(n);case 5:r=s.sent,e.commit({type:"savePosti",savedPosti:r}),s.next=13;break;case 9:throw s.prev=9,s.t0=s["catch"](1),console.log("Store: Cannot save posti...",s.t0),new Error("Cannot save posti...");case 13:return s.prev=13,e.commit({type:"setLoadingState",val:!1}),s.finish(13);case 16:case"end":return s.stop()}}),s,null,[[1,9,13,16]])})))()},removePosti:function(e,t){var s=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.postiId,n.prev=1,e.commit({type:"setLoadingState",val:!0}),n.next=5,T.remove(r);case 5:return i=n.sent,console.log("res",i),n.next=9,s.dispatch({type:"loadPostis"});case 9:e.commit({type:"removePosti",postiId:r}),n.next=16;break;case 12:throw n.prev=12,n.t0=n["catch"](1),console.log("Store: Cannot remove posti...",n.t0),new Error("Cannot remove posti...");case 16:return n.prev=16,e.commit({type:"setLoadingState",val:!1}),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,12,16,19]])})))()}}}),Dt={state:{loggedinUser:w.getLoggedinUser(),fullUserData:null,users:null},getters:{loggedinUser:function(e){return e.loggedinUser},users:function(e){return e.users},fullUserData:function(e){return e.fullUserData}},mutations:{setUser:function(e,t){var s=t.user;e.loggedinUser=s},setFullUserData:function(e,t){var s=t.fullUserData;e.fullUserData=s},loadUsers:function(e,t){var s=t.users;e.users=s}},actions:{login:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function s(){var n,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=t.userCred,s.prev=2,s.next=5,w.login(r);case 5:return i=s.sent,n({type:"setUser",user:i}),s.abrupt("return",i);case 10:throw s.prev=10,s.t0=s["catch"](2),console.log("userStore: Error in login",s.t0),s.t0;case 14:case"end":return s.stop()}}),s,null,[[2,10]])})))()},signup:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function s(){var n,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=t.userCred,s.prev=2,s.next=5,w.signup(r);case 5:return i=s.sent,n({type:"setUser",user:i}),s.abrupt("return",i);case 10:throw s.prev=10,s.t0=s["catch"](2),console.log("userStore: Error in signup",s.t0),s.t0;case 14:case"end":return s.stop()}}),s,null,[[2,10]])})))()},logout:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,t.prev=1,t.next=4,w.logout();case 4:s({type:"setUser",user:null}),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("userStore: Error in logout",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},updateUser:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=t.user,s.prev=2,s.next=5,w.update(r);case 5:r=s.sent,n({type:"setUser",user:r}),s.next=13;break;case 9:throw s.prev=9,s.t0=s["catch"](2),console.log("userStore: Error in updateUser",s.t0),s.t0;case 13:case"end":return s.stop()}}),s,null,[[2,9]])})))()},loadUsers:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.commit({type:"setLoadingState",val:!0}),t.next=4,w.getUsers();case 4:s=t.sent,e.commit({type:"loadUsers",users:s}),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](0),console.log("loadUsers: cant load users",t.t0),new Error("UserStore: cant load users");case 12:return t.prev=12,e.commit({type:"setLoadingState",val:!1}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,8,12,15]])})))()},setFullUserData:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.userId,s.prev=1,e.commit({type:"setLoadingState",val:!0}),s.next=5,w.getById(n);case 5:r=s.sent,e.commit({type:"setFullUserData",fullUserData:r}),s.next=13;break;case 9:throw s.prev=9,s.t0=s["catch"](1),console.log("UserStore: cant get user by Id",s.t0),new Error("UserStore: cant get user by Id");case 13:return s.prev=13,e.commit({type:"setLoadingState",val:!1}),s.finish(13);case 16:case"end":return s.stop()}}),s,null,[[1,9,13,16]])})))()}}},Tt=s("8055"),Ft=s.n(Tt),At="",Vt=Ft()(At),Bt={sendMsg:Nt,setUserId:qt,userTyping:Ht,getMsgListener:Gt,getTypingListener:Jt};function Nt(e){return Vt.emit("msg-data",e)}function qt(e){return Vt.emit("userId",e)}function Ht(e){return Vt.emit("user-typing",e)}function Gt(e){return Vt.on("msg-data",e)}function Jt(e){return Vt.on("user-typing",e)}var Yt={state:{chatUsers:["benny vaknin","Dani","ron"],chatMsgs:[{from:"Dani",to:"oren",toId:"60620138a129e770940bf6b4",type:"txt",content:"you have great posts",createdAt:1614035176612,fromId:"6062190520d7a4536cf18baf",id:"23"},{from:"benny vaknin",to:"oren",toId:"60620138a129e770940bf6b4",type:"txt",content:"are you here?",createdAt:1615033576612,fromId:"606233ac570327603c42baac",id:"24"},{from:"oren",to:"Dani",toId:"6062190520d7a4536cf18baf",type:"txt",content:"thanks",createdAt:1616036576512,fromId:"60620138a129e770940bf6b4",id:"25"}],typers:[]},getters:{chatUsers:function(e){return e.chatUsers},chatMsgs:function(e){return e.chatMsgs},typers:function(e){return e.typers}},mutations:{addMsg:function(e,t){var s=t.msg;e.chatMsgs.push(s)},setUsers:function(e,t){var s=t.data;e.chatUsers=s},addTyping:function(e,t){var s=t.data;e.typers.push(s.fromId)},removeTyping:function(e,t){var s=t.data,n=e.typers.indexOf(s.fromId);n>-1&&e.typers.splice(n,1)}},actions:{sendMsg:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=t.message,s.prev=2,s.next=5,Bt.sendMsg(r);case 5:console.log(n),s.next=12;break;case 8:throw s.prev=8,s.t0=s["catch"](2),console.log("chatStore: Error in sendMsg",s.t0),s.t0;case 12:case"end":return s.stop()}}),s,null,[[2,8]])})))()},userTyping:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=t.data,s.prev=2,console.log(n),s.next=6,Bt.userTyping(r);case 6:s.next=12;break;case 8:throw s.prev=8,s.t0=s["catch"](2),console.log("chatStore: Error in userTyping",s.t0),s.t0;case 12:case"end":return s.stop()}}),s,null,[[2,8]])})))()},setUserId:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=t.data,s.prev=2,console.log("userId",r.userId),console.log(n),s.next=7,Bt.setUserId(r);case 7:s.next=13;break;case 9:throw s.prev=9,s.t0=s["catch"](2),console.log("chatStore: Error in setUserId",s.t0),s.t0;case 13:case"end":return s.stop()}}),s,null,[[2,9]])})))()},initListeners:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,s.prev=1,console.log("initListeners"),console.log(n),s.next=6,t.dispatch({type:"setMsgListener"});case 6:return s.next=8,t.dispatch({type:"setTypingListener"});case 8:s.next=14;break;case 10:throw s.prev=10,s.t0=s["catch"](1),console.log("chatStore: Error in initListeners",s.t0),s.t0;case 14:case"end":return s.stop()}}),s,null,[[1,10]])})))()},setMsgListener:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,t.prev=1,console.log("setMsgListener"),t.next=5,Bt.getMsgListener((function(e){s({type:"addMsg",msg:e})}));case 5:t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("chatStore: Error in setMsgListener",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},setTypingListener:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,t.prev=1,console.log("setTypingListener"),t.next=5,Bt.getTypingListener((function(e){s({type:"addTyping",data:e}),setTimeout((function(){s({type:"removeTyping",data:e})}),3e3)}));case 5:t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("chatStore: Error in setTypingListener",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()}}};n["default"].use(zt["a"]);var Wt=new zt["a"].Store({modules:{postiStore:Mt,userStore:Dt,chatStore:Yt}}),Kt=s("ad3d"),Qt=s("5c96"),Xt=s.n(Qt),Zt=s("d095"),es=s.n(Zt);s("0fae"),s("c1c3");n["default"].use(es.a),n["default"].use(Xt.a),n["default"].use(s("2ead")),n["default"].component("font-awesome-icon",Kt["a"]),n["default"].use(Ge["EmojiPickerPlugin"]),n["default"].config.productionTip=!1,new n["default"]({router:Rt,store:Wt,render:function(e){return e(de)}}).$mount("#app")},"6c6d":function(e,t,s){e.exports=s.p+"img/bookmark-black.2e592dd4.svg"},c083:function(e,t,s){e.exports=s.p+"img/white-hart.7746f5e4.svg"},c1c3:function(e,t,s){},de21:function(e,t,s){e.exports=s.p+"img/bookmark-white.010f4f03.svg"},e3f5:function(e,t,s){e.exports=s.p+"img/speech-bubble.0ec68f32.svg"},fdb7:function(e,t,s){e.exports=s.p+"img/red-hart.a8cd76c1.svg"}});
//# sourceMappingURL=app.20dde340.js.map